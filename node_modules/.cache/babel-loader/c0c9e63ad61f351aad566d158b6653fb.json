{"ast":null,"code":"'use strict';\n\nconst {\n  MathFloor,\n  NumberIsInteger\n} = require('../../ours/primordials');\nconst {\n  ERR_INVALID_ARG_VALUE\n} = require('../../ours/errors').codes;\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\nfunction getDefaultHighWaterMark(objectMode) {\n  return objectMode ? 16 : 16 * 1024;\n}\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  const hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n  if (hwm != null) {\n    if (!NumberIsInteger(hwm) || hwm < 0) {\n      const name = isDuplex ? `options.${duplexKey}` : 'options.highWaterMark';\n      throw new ERR_INVALID_ARG_VALUE(name, hwm);\n    }\n    return MathFloor(hwm);\n  }\n\n  // Default value\n  return getDefaultHighWaterMark(state.objectMode);\n}\nmodule.exports = {\n  getHighWaterMark,\n  getDefaultHighWaterMark\n};","map":{"version":3,"names":["MathFloor","NumberIsInteger","require","ERR_INVALID_ARG_VALUE","codes","highWaterMarkFrom","options","isDuplex","duplexKey","highWaterMark","getDefaultHighWaterMark","objectMode","getHighWaterMark","state","hwm","name","module","exports"],"sources":["/Users/jstanton/Coding/FieldDock/FieldDockMain/node_modules/mqtt/node_modules/readable-stream/lib/internal/streams/state.js"],"sourcesContent":["'use strict'\n\nconst { MathFloor, NumberIsInteger } = require('../../ours/primordials')\nconst { ERR_INVALID_ARG_VALUE } = require('../../ours/errors').codes\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null\n}\nfunction getDefaultHighWaterMark(objectMode) {\n  return objectMode ? 16 : 16 * 1024\n}\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  const hwm = highWaterMarkFrom(options, isDuplex, duplexKey)\n  if (hwm != null) {\n    if (!NumberIsInteger(hwm) || hwm < 0) {\n      const name = isDuplex ? `options.${duplexKey}` : 'options.highWaterMark'\n      throw new ERR_INVALID_ARG_VALUE(name, hwm)\n    }\n    return MathFloor(hwm)\n  }\n\n  // Default value\n  return getDefaultHighWaterMark(state.objectMode)\n}\nmodule.exports = {\n  getHighWaterMark,\n  getDefaultHighWaterMark\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAM;EAAEA,SAAS;EAAEC;AAAgB,CAAC,GAAGC,OAAO,CAAC,wBAAwB,CAAC;AACxE,MAAM;EAAEC;AAAsB,CAAC,GAAGD,OAAO,CAAC,mBAAmB,CAAC,CAACE,KAAK;AACpE,SAASC,iBAAiBA,CAACC,OAAO,EAAEC,QAAQ,EAAEC,SAAS,EAAE;EACvD,OAAOF,OAAO,CAACG,aAAa,IAAI,IAAI,GAAGH,OAAO,CAACG,aAAa,GAAGF,QAAQ,GAAGD,OAAO,CAACE,SAAS,CAAC,GAAG,IAAI;AACrG;AACA,SAASE,uBAAuBA,CAACC,UAAU,EAAE;EAC3C,OAAOA,UAAU,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI;AACpC;AACA,SAASC,gBAAgBA,CAACC,KAAK,EAAEP,OAAO,EAAEE,SAAS,EAAED,QAAQ,EAAE;EAC7D,MAAMO,GAAG,GAAGT,iBAAiB,CAACC,OAAO,EAAEC,QAAQ,EAAEC,SAAS,CAAC;EAC3D,IAAIM,GAAG,IAAI,IAAI,EAAE;IACf,IAAI,CAACb,eAAe,CAACa,GAAG,CAAC,IAAIA,GAAG,GAAG,CAAC,EAAE;MACpC,MAAMC,IAAI,GAAGR,QAAQ,GAAI,WAAUC,SAAU,EAAC,GAAG,uBAAuB;MACxE,MAAM,IAAIL,qBAAqB,CAACY,IAAI,EAAED,GAAG,CAAC;IAC5C;IACA,OAAOd,SAAS,CAACc,GAAG,CAAC;EACvB;;EAEA;EACA,OAAOJ,uBAAuB,CAACG,KAAK,CAACF,UAAU,CAAC;AAClD;AACAK,MAAM,CAACC,OAAO,GAAG;EACfL,gBAAgB;EAChBF;AACF,CAAC"},"metadata":{},"sourceType":"script"}