{"ast":null,"code":"var _jsxFileName = \"/Users/jstanton/Coding/FieldDock/FieldDockMain/src/components/Tools/Buttons/Mission Planning/Launch/LaunchButton.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport StyledButton from \"./ButtonStyles\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { createMission } from \"../../../../Missions/Mission Planning/Waypoint Configuration/Launch\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LaunchButton(props) {\n  _s();\n  const navigate = useNavigate(); // Navigation hook from react-router-dom\n\n  const handleButtonClick = async () => {\n    const missionString = createMission(data); // Assuming this function creates the mission data\n\n    try {\n      const response = await axios.post(\"http://localhost:3001/launch\", {\n        missionData: missionString\n      });\n\n      // Check the HTTP status code for potential server errors\n      if (response.status !== 200) {\n        console.error(\"Server returned an error:\", response.data.message);\n        return; // Exit the function early since an error occurred\n      }\n\n      // Check the \"success\" flag within the response data\n      if (response.data.success) {\n        console.log(response.data.message); // Display the server's success message\n        navigate(\"/live_stats\"); // Navigate only if publish was successful\n      } else {\n        console.error(\"Failed to publish the mission:\", response.data.message);\n      }\n    } catch (error) {\n      console.error(\"Error:\", error);\n      console.error(\"Error sending the mission to the server:\", error);\n    }\n  };\n  const hoverStyles = {\n    borderColor: \"#00e1b4\",\n    color: \"orange\"\n  };\n  return /*#__PURE__*/_jsxDEV(StyledButton, {\n    label: \"Launch\",\n    onClick: handleLaunch,\n    hoverStyles: hoverStyles,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(LaunchButton, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = LaunchButton;\nexport default LaunchButton;\nvar _c;\n$RefreshReg$(_c, \"LaunchButton\");","map":{"version":3,"names":["React","StyledButton","axios","useNavigate","createMission","jsxDEV","_jsxDEV","LaunchButton","props","_s","navigate","handleButtonClick","missionString","data","response","post","missionData","status","console","error","message","success","log","hoverStyles","borderColor","color","label","onClick","handleLaunch","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/jstanton/Coding/FieldDock/FieldDockMain/src/components/Tools/Buttons/Mission Planning/Launch/LaunchButton.jsx"],"sourcesContent":["import React from \"react\";\nimport StyledButton from \"./ButtonStyles\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { createMission } from \"../../../../Missions/Mission Planning/Waypoint Configuration/Launch\";\n\nfunction LaunchButton(props) {\n  const navigate = useNavigate(); // Navigation hook from react-router-dom\n\n  const handleButtonClick = async () => {\n    const missionString = createMission(data); // Assuming this function creates the mission data\n\n    try {\n      const response = await axios.post(\"http://localhost:3001/launch\", {\n        missionData: missionString,\n      });\n\n      // Check the HTTP status code for potential server errors\n      if (response.status !== 200) {\n        console.error(\"Server returned an error:\", response.data.message);\n        return; // Exit the function early since an error occurred\n      }\n\n      // Check the \"success\" flag within the response data\n      if (response.data.success) {\n        console.log(response.data.message); // Display the server's success message\n        navigate(\"/live_stats\"); // Navigate only if publish was successful\n      } else {\n        console.error(\"Failed to publish the mission:\", response.data.message);\n      }\n    } catch (error) {\n      console.error(\"Error:\", error);\n      console.error(\"Error sending the mission to the server:\", error);\n    }\n  };\n\n  const hoverStyles = {\n    borderColor: \"#00e1b4\",\n    color: \"orange\",\n  };\n\n  return (\n    <StyledButton\n      label=\"Launch\"\n      onClick={handleLaunch}\n      hoverStyles={hoverStyles}\n      {...props}\n    />\n  );\n}\n\nexport default LaunchButton;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,aAAa,QAAQ,qEAAqE;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpG,SAASC,YAAYA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAC3B,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC,CAAC,CAAC;;EAEhC,MAAMQ,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,MAAMC,aAAa,GAAGR,aAAa,CAACS,IAAI,CAAC,CAAC,CAAC;;IAE3C,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAAC,8BAA8B,EAAE;QAChEC,WAAW,EAAEJ;MACf,CAAC,CAAC;;MAEF;MACA,IAAIE,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;QAC3BC,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEL,QAAQ,CAACD,IAAI,CAACO,OAAO,CAAC;QACjE,OAAO,CAAC;MACV;;MAEA;MACA,IAAIN,QAAQ,CAACD,IAAI,CAACQ,OAAO,EAAE;QACzBH,OAAO,CAACI,GAAG,CAACR,QAAQ,CAACD,IAAI,CAACO,OAAO,CAAC,CAAC,CAAC;QACpCV,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC;MAC3B,CAAC,MAAM;QACLQ,OAAO,CAACC,KAAK,CAAC,gCAAgC,EAAEL,QAAQ,CAACD,IAAI,CAACO,OAAO,CAAC;MACxE;IACF,CAAC,CAAC,OAAOD,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;MAC9BD,OAAO,CAACC,KAAK,CAAC,0CAA0C,EAAEA,KAAK,CAAC;IAClE;EACF,CAAC;EAED,MAAMI,WAAW,GAAG;IAClBC,WAAW,EAAE,SAAS;IACtBC,KAAK,EAAE;EACT,CAAC;EAED,oBACEnB,OAAA,CAACL,YAAY;IACXyB,KAAK,EAAC,QAAQ;IACdC,OAAO,EAAEC,YAAa;IACtBL,WAAW,EAAEA,WAAY;IAAA,GACrBf;EAAK;IAAAqB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACV,CAAC;AAEN;AAACvB,EAAA,CA3CQF,YAAY;EAAA,QACFJ,WAAW;AAAA;AAAA8B,EAAA,GADrB1B,YAAY;AA6CrB,eAAeA,YAAY;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}