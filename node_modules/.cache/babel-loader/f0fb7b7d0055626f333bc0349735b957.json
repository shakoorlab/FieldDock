{"ast":null,"code":"var __extends = this && this.t || function () {\n  var extendStatics = function (t, i) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (t, i) {\n      t.__proto__ = i;\n    } || function (t, i) {\n      for (var r in i) if (Object.prototype.hasOwnProperty.call(i, r)) t[r] = i[r];\n    };\n    return extendStatics(t, i);\n  };\n  return function (t, i) {\n    if (typeof i !== \"function\" && i !== null) throw new TypeError(\"Class extends value \" + String(i) + \" is not a constructor or null\");\n    extendStatics(t, i);\n    function __() {\n      this.constructor = t;\n    }\n    t.prototype = i === null ? Object.create(i) : (__.prototype = i.prototype, new __());\n  };\n}();\nvar __generator = this && this.i || function (t, i) {\n  var r = {\n      label: 0,\n      sent: function () {\n        if (h[0] & 1) throw h[1];\n        return h[1];\n      },\n      trys: [],\n      ops: []\n    },\n    e,\n    s,\n    h,\n    n;\n  return n = {\n    next: verb(0),\n    throw: verb(1),\n    return: verb(2)\n  }, typeof Symbol === \"function\" && (n[Symbol.iterator] = function () {\n    return this;\n  }), n;\n  function verb(t) {\n    return function (i) {\n      return step([t, i]);\n    };\n  }\n  function step(n) {\n    if (e) throw new TypeError(\"Generator is already executing.\");\n    while (r) try {\n      if (e = 1, s && (h = n[0] & 2 ? s[\"return\"] : n[0] ? s[\"throw\"] || ((h = s[\"return\"]) && h.call(s), 0) : s.next) && !(h = h.call(s, n[1])).done) return h;\n      if (s = 0, h) n = [n[0] & 2, h.value];\n      switch (n[0]) {\n        case 0:\n        case 1:\n          h = n;\n          break;\n        case 4:\n          r.label++;\n          return {\n            value: n[1],\n            done: false\n          };\n        case 5:\n          r.label++;\n          s = n[1];\n          n = [0];\n          continue;\n        case 7:\n          n = r.ops.pop();\n          r.trys.pop();\n          continue;\n        default:\n          if (!(h = r.trys, h = h.length > 0 && h[h.length - 1]) && (n[0] === 6 || n[0] === 2)) {\n            r = 0;\n            continue;\n          }\n          if (n[0] === 3 && (!h || n[1] > h[0] && n[1] < h[3])) {\n            r.label = n[1];\n            break;\n          }\n          if (n[0] === 6 && r.label < h[1]) {\n            r.label = h[1];\n            h = n;\n            break;\n          }\n          if (h && r.label < h[2]) {\n            r.label = h[2];\n            r.ops.push(n);\n            break;\n          }\n          if (h[2]) r.ops.pop();\n          r.trys.pop();\n          continue;\n      }\n      n = i.call(t, r);\n    } catch (t) {\n      n = [6, t];\n      s = 0;\n    } finally {\n      e = h = 0;\n    }\n    if (n[0] & 5) throw n[1];\n    return {\n      value: n[0] ? n[1] : void 0,\n      done: true\n    };\n  }\n};\nvar __read = this && this.q || function (t, i) {\n  var r = typeof Symbol === \"function\" && t[Symbol.iterator];\n  if (!r) return t;\n  var e = r.call(t),\n    s,\n    h = [],\n    n;\n  try {\n    while ((i === void 0 || i-- > 0) && !(s = e.next()).done) h.push(s.value);\n  } catch (t) {\n    n = {\n      error: t\n    };\n  } finally {\n    try {\n      if (s && !s.done && (r = e[\"return\"])) r.call(e);\n    } finally {\n      if (n) throw n.error;\n    }\n  }\n  return h;\n};\nvar __spreadArray = this && this.D || function (t, i, r) {\n  if (r || arguments.length === 2) for (var e = 0, s = i.length, h; e < s; e++) {\n    if (h || !(e in i)) {\n      if (!h) h = Array.prototype.slice.call(i, 0, e);\n      h[e] = i[e];\n    }\n  }\n  return t.concat(h || Array.prototype.slice.call(i));\n};\nimport SequentialContainer from \"./Base\";\nimport { RandomIterator } from \"./Base/RandomIterator\";\nvar DequeIterator = function (t) {\n  __extends(DequeIterator, t);\n  function DequeIterator(i, r, e) {\n    var s = t.call(this, i, e) || this;\n    s.container = r;\n    return s;\n  }\n  DequeIterator.prototype.copy = function () {\n    return new DequeIterator(this.o, this.container, this.iteratorType);\n  };\n  return DequeIterator;\n}(RandomIterator);\nvar Deque = function (t) {\n  __extends(Deque, t);\n  function Deque(i, r) {\n    if (i === void 0) {\n      i = [];\n    }\n    if (r === void 0) {\n      r = 1 << 12;\n    }\n    var e = t.call(this) || this;\n    e.A = 0;\n    e.S = 0;\n    e.R = 0;\n    e.k = 0;\n    e.C = 0;\n    e.j = [];\n    var s = function () {\n      if (typeof i.length === \"number\") return i.length;\n      if (typeof i.size === \"number\") return i.size;\n      if (typeof i.size === \"function\") return i.size();\n      throw new TypeError(\"Cannot get the length or size of the container\");\n    }();\n    e.B = r;\n    e.C = Math.max(Math.ceil(s / e.B), 1);\n    for (var h = 0; h < e.C; ++h) {\n      e.j.push(new Array(e.B));\n    }\n    var n = Math.ceil(s / e.B);\n    e.A = e.R = (e.C >> 1) - (n >> 1);\n    e.S = e.k = e.B - s % e.B >> 1;\n    var u = e;\n    i.forEach(function (t) {\n      u.pushBack(t);\n    });\n    return e;\n  }\n  Deque.prototype.O = function () {\n    var t = [];\n    var i = Math.max(this.C >> 1, 1);\n    for (var r = 0; r < i; ++r) {\n      t[r] = new Array(this.B);\n    }\n    for (var r = this.A; r < this.C; ++r) {\n      t[t.length] = this.j[r];\n    }\n    for (var r = 0; r < this.R; ++r) {\n      t[t.length] = this.j[r];\n    }\n    t[t.length] = __spreadArray([], __read(this.j[this.R]), false);\n    this.A = i;\n    this.R = t.length - 1;\n    for (var r = 0; r < i; ++r) {\n      t[t.length] = new Array(this.B);\n    }\n    this.j = t;\n    this.C = t.length;\n  };\n  Deque.prototype.T = function (t) {\n    var i = this.S + t + 1;\n    var r = i % this.B;\n    var e = r - 1;\n    var s = this.A + (i - r) / this.B;\n    if (r === 0) s -= 1;\n    s %= this.C;\n    if (e < 0) e += this.B;\n    return {\n      curNodeBucketIndex: s,\n      curNodePointerIndex: e\n    };\n  };\n  Deque.prototype.clear = function () {\n    this.j = [new Array(this.B)];\n    this.C = 1;\n    this.A = this.R = this.M = 0;\n    this.S = this.k = this.B >> 1;\n  };\n  Deque.prototype.begin = function () {\n    return new DequeIterator(0, this);\n  };\n  Deque.prototype.end = function () {\n    return new DequeIterator(this.M, this);\n  };\n  Deque.prototype.rBegin = function () {\n    return new DequeIterator(this.M - 1, this, 1);\n  };\n  Deque.prototype.rEnd = function () {\n    return new DequeIterator(-1, this, 1);\n  };\n  Deque.prototype.front = function () {\n    if (this.M === 0) return;\n    return this.j[this.A][this.S];\n  };\n  Deque.prototype.back = function () {\n    if (this.M === 0) return;\n    return this.j[this.R][this.k];\n  };\n  Deque.prototype.pushBack = function (t) {\n    if (this.M) {\n      if (this.k < this.B - 1) {\n        this.k += 1;\n      } else if (this.R < this.C - 1) {\n        this.R += 1;\n        this.k = 0;\n      } else {\n        this.R = 0;\n        this.k = 0;\n      }\n      if (this.R === this.A && this.k === this.S) this.O();\n    }\n    this.M += 1;\n    this.j[this.R][this.k] = t;\n    return this.M;\n  };\n  Deque.prototype.popBack = function () {\n    if (this.M === 0) return;\n    var t = this.j[this.R][this.k];\n    if (this.M !== 1) {\n      if (this.k > 0) {\n        this.k -= 1;\n      } else if (this.R > 0) {\n        this.R -= 1;\n        this.k = this.B - 1;\n      } else {\n        this.R = this.C - 1;\n        this.k = this.B - 1;\n      }\n    }\n    this.M -= 1;\n    return t;\n  };\n  Deque.prototype.pushFront = function (t) {\n    if (this.M) {\n      if (this.S > 0) {\n        this.S -= 1;\n      } else if (this.A > 0) {\n        this.A -= 1;\n        this.S = this.B - 1;\n      } else {\n        this.A = this.C - 1;\n        this.S = this.B - 1;\n      }\n      if (this.A === this.R && this.S === this.k) this.O();\n    }\n    this.M += 1;\n    this.j[this.A][this.S] = t;\n    return this.M;\n  };\n  Deque.prototype.popFront = function () {\n    if (this.M === 0) return;\n    var t = this.j[this.A][this.S];\n    if (this.M !== 1) {\n      if (this.S < this.B - 1) {\n        this.S += 1;\n      } else if (this.A < this.C - 1) {\n        this.A += 1;\n        this.S = 0;\n      } else {\n        this.A = 0;\n        this.S = 0;\n      }\n    }\n    this.M -= 1;\n    return t;\n  };\n  Deque.prototype.getElementByPos = function (t) {\n    if (t < 0 || t > this.M - 1) {\n      throw new RangeError();\n    }\n    var i = this.T(t),\n      r = i.curNodeBucketIndex,\n      e = i.curNodePointerIndex;\n    return this.j[r][e];\n  };\n  Deque.prototype.setElementByPos = function (t, i) {\n    if (t < 0 || t > this.M - 1) {\n      throw new RangeError();\n    }\n    var r = this.T(t),\n      e = r.curNodeBucketIndex,\n      s = r.curNodePointerIndex;\n    this.j[e][s] = i;\n  };\n  Deque.prototype.insert = function (t, i, r) {\n    if (r === void 0) {\n      r = 1;\n    }\n    if (t < 0 || t > this.M) {\n      throw new RangeError();\n    }\n    if (t === 0) {\n      while (r--) this.pushFront(i);\n    } else if (t === this.M) {\n      while (r--) this.pushBack(i);\n    } else {\n      var e = [];\n      for (var s = t; s < this.M; ++s) {\n        e.push(this.getElementByPos(s));\n      }\n      this.cut(t - 1);\n      for (var s = 0; s < r; ++s) this.pushBack(i);\n      for (var s = 0; s < e.length; ++s) this.pushBack(e[s]);\n    }\n    return this.M;\n  };\n  Deque.prototype.cut = function (t) {\n    if (t < 0) {\n      this.clear();\n      return 0;\n    }\n    var i = this.T(t),\n      r = i.curNodeBucketIndex,\n      e = i.curNodePointerIndex;\n    this.R = r;\n    this.k = e;\n    this.M = t + 1;\n    return this.M;\n  };\n  Deque.prototype.eraseElementByPos = function (t) {\n    if (t < 0 || t > this.M - 1) {\n      throw new RangeError();\n    }\n    if (t === 0) this.popFront();else if (t === this.M - 1) this.popBack();else {\n      var i = [];\n      for (var r = t + 1; r < this.M; ++r) {\n        i.push(this.getElementByPos(r));\n      }\n      this.cut(t);\n      this.popBack();\n      var e = this;\n      i.forEach(function (t) {\n        e.pushBack(t);\n      });\n    }\n    return this.M;\n  };\n  Deque.prototype.eraseElementByValue = function (t) {\n    if (this.M === 0) return 0;\n    var i = [];\n    for (var r = 0; r < this.M; ++r) {\n      var e = this.getElementByPos(r);\n      if (e !== t) i.push(e);\n    }\n    var s = i.length;\n    for (var r = 0; r < s; ++r) this.setElementByPos(r, i[r]);\n    return this.cut(s - 1);\n  };\n  Deque.prototype.eraseElementByIterator = function (t) {\n    var i = t.o;\n    this.eraseElementByPos(i);\n    t = t.next();\n    return t;\n  };\n  Deque.prototype.find = function (t) {\n    for (var i = 0; i < this.M; ++i) {\n      if (this.getElementByPos(i) === t) {\n        return new DequeIterator(i, this);\n      }\n    }\n    return this.end();\n  };\n  Deque.prototype.reverse = function () {\n    var t = 0;\n    var i = this.M - 1;\n    while (t < i) {\n      var r = this.getElementByPos(t);\n      this.setElementByPos(t, this.getElementByPos(i));\n      this.setElementByPos(i, r);\n      t += 1;\n      i -= 1;\n    }\n  };\n  Deque.prototype.unique = function () {\n    if (this.M <= 1) {\n      return this.M;\n    }\n    var t = 1;\n    var i = this.getElementByPos(0);\n    for (var r = 1; r < this.M; ++r) {\n      var e = this.getElementByPos(r);\n      if (e !== i) {\n        i = e;\n        this.setElementByPos(t++, e);\n      }\n    }\n    while (this.M > t) this.popBack();\n    return this.M;\n  };\n  Deque.prototype.sort = function (t) {\n    var i = [];\n    for (var r = 0; r < this.M; ++r) {\n      i.push(this.getElementByPos(r));\n    }\n    i.sort(t);\n    for (var r = 0; r < this.M; ++r) this.setElementByPos(r, i[r]);\n  };\n  Deque.prototype.shrinkToFit = function () {\n    if (this.M === 0) return;\n    var t = [];\n    this.forEach(function (i) {\n      t.push(i);\n    });\n    this.C = Math.max(Math.ceil(this.M / this.B), 1);\n    this.M = this.A = this.R = this.S = this.k = 0;\n    this.j = [];\n    for (var i = 0; i < this.C; ++i) {\n      this.j.push(new Array(this.B));\n    }\n    for (var i = 0; i < t.length; ++i) this.pushBack(t[i]);\n  };\n  Deque.prototype.forEach = function (t) {\n    for (var i = 0; i < this.M; ++i) {\n      t(this.getElementByPos(i), i, this);\n    }\n  };\n  Deque.prototype[Symbol.iterator] = function () {\n    return function () {\n      var t;\n      return __generator(this, function (i) {\n        switch (i.label) {\n          case 0:\n            t = 0;\n            i.label = 1;\n          case 1:\n            if (!(t < this.M)) return [3, 4];\n            return [4, this.getElementByPos(t)];\n          case 2:\n            i.sent();\n            i.label = 3;\n          case 3:\n            ++t;\n            return [3, 1];\n          case 4:\n            return [2];\n        }\n      });\n    }.bind(this)();\n  };\n  return Deque;\n}(SequentialContainer);\nexport default Deque;","map":{"version":3,"names":["__extends","t","extendStatics","i","Object","setPrototypeOf","__proto__","Array","r","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__generator","label","sent","h","trys","ops","e","s","n","next","verb","throw","return","Symbol","iterator","step","done","value","pop","length","push","__read","q","error","__spreadArray","D","arguments","slice","concat","SequentialContainer","RandomIterator","DequeIterator","container","copy","o","iteratorType","Deque","A","S","R","k","C","j","size","B","Math","max","ceil","u","forEach","pushBack","O","T","curNodeBucketIndex","curNodePointerIndex","clear","M","begin","end","rBegin","rEnd","front","back","popBack","pushFront","popFront","getElementByPos","RangeError","setElementByPos","insert","cut","eraseElementByPos","eraseElementByValue","eraseElementByIterator","find","reverse","unique","sort","shrinkToFit","bind"],"sources":["/Users/jstanton/Coding/FieldDock/FieldDockMain/node_modules/js-sdsl/dist/esm/container/SequentialContainer/container/SequentialContainer/Deque.js","/Users/jstanton/Coding/FieldDock/FieldDockMain/node_modules/js-sdsl/dist/esm/src/container/SequentialContainer/Deque.ts"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport SequentialContainer from './Base';\nimport { RandomIterator } from \"./Base/RandomIterator\";\nimport $checkWithinAccessParams from \"../../utils/checkParams.macro\";\nimport $getContainerSize from \"../../utils/getContainerSize.macro\";\nvar DequeIterator = /** @class */ (function (_super) {\n    __extends(DequeIterator, _super);\n    function DequeIterator(node, container, iteratorType) {\n        var _this = _super.call(this, node, iteratorType) || this;\n        _this.container = container;\n        return _this;\n    }\n    DequeIterator.prototype.copy = function () {\n        return new DequeIterator(this._node, this.container, this.iteratorType);\n    };\n    return DequeIterator;\n}(RandomIterator));\nvar Deque = /** @class */ (function (_super) {\n    __extends(Deque, _super);\n    function Deque(container, _bucketSize) {\n        if (container === void 0) { container = []; }\n        if (_bucketSize === void 0) { _bucketSize = (1 << 12); }\n        var _this = _super.call(this) || this;\n        /**\n         * @internal\n         */\n        _this._first = 0;\n        /**\n         * @internal\n         */\n        _this._curFirst = 0;\n        /**\n         * @internal\n         */\n        _this._last = 0;\n        /**\n         * @internal\n         */\n        _this._curLast = 0;\n        /**\n         * @internal\n         */\n        _this._bucketNum = 0;\n        /**\n         * @internal\n         */\n        _this._map = [];\n        var _length = (function () {\n            if (typeof container.length === \"number\")\n                return container.length;\n            if (typeof container.size === \"number\")\n                return container.size;\n            if (typeof container.size === \"function\")\n                return container.size();\n            throw new TypeError(\"Cannot get the length or size of the container\");\n        })();\n        _this._bucketSize = _bucketSize;\n        _this._bucketNum = Math.max(Math.ceil(_length / _this._bucketSize), 1);\n        for (var i = 0; i < _this._bucketNum; ++i) {\n            _this._map.push(new Array(_this._bucketSize));\n        }\n        var needBucketNum = Math.ceil(_length / _this._bucketSize);\n        _this._first = _this._last = (_this._bucketNum >> 1) - (needBucketNum >> 1);\n        _this._curFirst = _this._curLast = (_this._bucketSize - _length % _this._bucketSize) >> 1;\n        var self = _this;\n        container.forEach(function (element) {\n            self.pushBack(element);\n        });\n        return _this;\n    }\n    /**\n     * @description Growth the Deque.\n     * @internal\n     */\n    Deque.prototype._reAllocate = function () {\n        var newMap = [];\n        var addBucketNum = Math.max(this._bucketNum >> 1, 1);\n        for (var i = 0; i < addBucketNum; ++i) {\n            newMap[i] = new Array(this._bucketSize);\n        }\n        for (var i = this._first; i < this._bucketNum; ++i) {\n            newMap[newMap.length] = this._map[i];\n        }\n        for (var i = 0; i < this._last; ++i) {\n            newMap[newMap.length] = this._map[i];\n        }\n        newMap[newMap.length] = __spreadArray([], __read(this._map[this._last]), false);\n        this._first = addBucketNum;\n        this._last = newMap.length - 1;\n        for (var i = 0; i < addBucketNum; ++i) {\n            newMap[newMap.length] = new Array(this._bucketSize);\n        }\n        this._map = newMap;\n        this._bucketNum = newMap.length;\n    };\n    /**\n     * @description Get the bucket position of the element and the pointer position by index.\n     * @param pos - The element's index.\n     * @internal\n     */\n    Deque.prototype._getElementIndex = function (pos) {\n        var offset = this._curFirst + pos + 1;\n        var offsetRemainder = offset % this._bucketSize;\n        var curNodePointerIndex = offsetRemainder - 1;\n        var curNodeBucketIndex = this._first + (offset - offsetRemainder) / this._bucketSize;\n        if (offsetRemainder === 0)\n            curNodeBucketIndex -= 1;\n        curNodeBucketIndex %= this._bucketNum;\n        if (curNodePointerIndex < 0)\n            curNodePointerIndex += this._bucketSize;\n        return { curNodeBucketIndex: curNodeBucketIndex, curNodePointerIndex: curNodePointerIndex };\n    };\n    Deque.prototype.clear = function () {\n        this._map = [new Array(this._bucketSize)];\n        this._bucketNum = 1;\n        this._first = this._last = this._length = 0;\n        this._curFirst = this._curLast = this._bucketSize >> 1;\n    };\n    Deque.prototype.begin = function () {\n        return new DequeIterator(0, this);\n    };\n    Deque.prototype.end = function () {\n        return new DequeIterator(this._length, this);\n    };\n    Deque.prototype.rBegin = function () {\n        return new DequeIterator(this._length - 1, this, 1 /* IteratorType.REVERSE */);\n    };\n    Deque.prototype.rEnd = function () {\n        return new DequeIterator(-1, this, 1 /* IteratorType.REVERSE */);\n    };\n    Deque.prototype.front = function () {\n        if (this._length === 0)\n            return;\n        return this._map[this._first][this._curFirst];\n    };\n    Deque.prototype.back = function () {\n        if (this._length === 0)\n            return;\n        return this._map[this._last][this._curLast];\n    };\n    Deque.prototype.pushBack = function (element) {\n        if (this._length) {\n            if (this._curLast < this._bucketSize - 1) {\n                this._curLast += 1;\n            }\n            else if (this._last < this._bucketNum - 1) {\n                this._last += 1;\n                this._curLast = 0;\n            }\n            else {\n                this._last = 0;\n                this._curLast = 0;\n            }\n            if (this._last === this._first &&\n                this._curLast === this._curFirst)\n                this._reAllocate();\n        }\n        this._length += 1;\n        this._map[this._last][this._curLast] = element;\n        return this._length;\n    };\n    Deque.prototype.popBack = function () {\n        if (this._length === 0)\n            return;\n        var value = this._map[this._last][this._curLast];\n        if (this._length !== 1) {\n            if (this._curLast > 0) {\n                this._curLast -= 1;\n            }\n            else if (this._last > 0) {\n                this._last -= 1;\n                this._curLast = this._bucketSize - 1;\n            }\n            else {\n                this._last = this._bucketNum - 1;\n                this._curLast = this._bucketSize - 1;\n            }\n        }\n        this._length -= 1;\n        return value;\n    };\n    /**\n     * @description Push the element to the front.\n     * @param element - The element you want to push.\n     * @returns The size of queue after pushing.\n     */\n    Deque.prototype.pushFront = function (element) {\n        if (this._length) {\n            if (this._curFirst > 0) {\n                this._curFirst -= 1;\n            }\n            else if (this._first > 0) {\n                this._first -= 1;\n                this._curFirst = this._bucketSize - 1;\n            }\n            else {\n                this._first = this._bucketNum - 1;\n                this._curFirst = this._bucketSize - 1;\n            }\n            if (this._first === this._last &&\n                this._curFirst === this._curLast)\n                this._reAllocate();\n        }\n        this._length += 1;\n        this._map[this._first][this._curFirst] = element;\n        return this._length;\n    };\n    /**\n     * @description Remove the _first element.\n     * @returns The element you popped.\n     */\n    Deque.prototype.popFront = function () {\n        if (this._length === 0)\n            return;\n        var value = this._map[this._first][this._curFirst];\n        if (this._length !== 1) {\n            if (this._curFirst < this._bucketSize - 1) {\n                this._curFirst += 1;\n            }\n            else if (this._first < this._bucketNum - 1) {\n                this._first += 1;\n                this._curFirst = 0;\n            }\n            else {\n                this._first = 0;\n                this._curFirst = 0;\n            }\n        }\n        this._length -= 1;\n        return value;\n    };\n    Deque.prototype.getElementByPos = function (pos) {\n        if (pos < 0 || pos > this._length - 1) {\n            throw new RangeError();\n        }\n        var _a = this._getElementIndex(pos), curNodeBucketIndex = _a.curNodeBucketIndex, curNodePointerIndex = _a.curNodePointerIndex;\n        return this._map[curNodeBucketIndex][curNodePointerIndex];\n    };\n    Deque.prototype.setElementByPos = function (pos, element) {\n        if (pos < 0 || pos > this._length - 1) {\n            throw new RangeError();\n        }\n        var _a = this._getElementIndex(pos), curNodeBucketIndex = _a.curNodeBucketIndex, curNodePointerIndex = _a.curNodePointerIndex;\n        this._map[curNodeBucketIndex][curNodePointerIndex] = element;\n    };\n    Deque.prototype.insert = function (pos, element, num) {\n        if (num === void 0) { num = 1; }\n        if (pos < 0 || pos > this._length) {\n            throw new RangeError();\n        }\n        if (pos === 0) {\n            while (num--)\n                this.pushFront(element);\n        }\n        else if (pos === this._length) {\n            while (num--)\n                this.pushBack(element);\n        }\n        else {\n            var arr = [];\n            for (var i = pos; i < this._length; ++i) {\n                arr.push(this.getElementByPos(i));\n            }\n            this.cut(pos - 1);\n            for (var i = 0; i < num; ++i)\n                this.pushBack(element);\n            for (var i = 0; i < arr.length; ++i)\n                this.pushBack(arr[i]);\n        }\n        return this._length;\n    };\n    /**\n     * @description Remove all elements after the specified position (excluding the specified position).\n     * @param pos - The previous position of the first removed element.\n     * @returns The size of the container after cutting.\n     * @example\n     * deque.cut(1); // Then deque's size will be 2. deque -> [0, 1]\n     */\n    Deque.prototype.cut = function (pos) {\n        if (pos < 0) {\n            this.clear();\n            return 0;\n        }\n        var _a = this._getElementIndex(pos), curNodeBucketIndex = _a.curNodeBucketIndex, curNodePointerIndex = _a.curNodePointerIndex;\n        this._last = curNodeBucketIndex;\n        this._curLast = curNodePointerIndex;\n        this._length = pos + 1;\n        return this._length;\n    };\n    Deque.prototype.eraseElementByPos = function (pos) {\n        if (pos < 0 || pos > this._length - 1) {\n            throw new RangeError();\n        }\n        if (pos === 0)\n            this.popFront();\n        else if (pos === this._length - 1)\n            this.popBack();\n        else {\n            var arr = [];\n            for (var i = pos + 1; i < this._length; ++i) {\n                arr.push(this.getElementByPos(i));\n            }\n            this.cut(pos);\n            this.popBack();\n            var self_1 = this;\n            arr.forEach(function (el) {\n                self_1.pushBack(el);\n            });\n        }\n        return this._length;\n    };\n    Deque.prototype.eraseElementByValue = function (value) {\n        if (this._length === 0)\n            return 0;\n        var arr = [];\n        for (var i = 0; i < this._length; ++i) {\n            var element = this.getElementByPos(i);\n            if (element !== value)\n                arr.push(element);\n        }\n        var _length = arr.length;\n        for (var i = 0; i < _length; ++i)\n            this.setElementByPos(i, arr[i]);\n        return this.cut(_length - 1);\n    };\n    Deque.prototype.eraseElementByIterator = function (iter) {\n        var _node = iter._node;\n        this.eraseElementByPos(_node);\n        iter = iter.next();\n        return iter;\n    };\n    Deque.prototype.find = function (element) {\n        for (var i = 0; i < this._length; ++i) {\n            if (this.getElementByPos(i) === element) {\n                return new DequeIterator(i, this);\n            }\n        }\n        return this.end();\n    };\n    Deque.prototype.reverse = function () {\n        var l = 0;\n        var r = this._length - 1;\n        while (l < r) {\n            var tmp = this.getElementByPos(l);\n            this.setElementByPos(l, this.getElementByPos(r));\n            this.setElementByPos(r, tmp);\n            l += 1;\n            r -= 1;\n        }\n    };\n    Deque.prototype.unique = function () {\n        if (this._length <= 1) {\n            return this._length;\n        }\n        var index = 1;\n        var pre = this.getElementByPos(0);\n        for (var i = 1; i < this._length; ++i) {\n            var cur = this.getElementByPos(i);\n            if (cur !== pre) {\n                pre = cur;\n                this.setElementByPos(index++, cur);\n            }\n        }\n        while (this._length > index)\n            this.popBack();\n        return this._length;\n    };\n    Deque.prototype.sort = function (cmp) {\n        var arr = [];\n        for (var i = 0; i < this._length; ++i) {\n            arr.push(this.getElementByPos(i));\n        }\n        arr.sort(cmp);\n        for (var i = 0; i < this._length; ++i)\n            this.setElementByPos(i, arr[i]);\n    };\n    /**\n     * @description Remove as much useless space as possible.\n     */\n    Deque.prototype.shrinkToFit = function () {\n        if (this._length === 0)\n            return;\n        var arr = [];\n        this.forEach(function (el) {\n            arr.push(el);\n        });\n        this._bucketNum = Math.max(Math.ceil(this._length / this._bucketSize), 1);\n        this._length = this._first = this._last = this._curFirst = this._curLast = 0;\n        this._map = [];\n        for (var i = 0; i < this._bucketNum; ++i) {\n            this._map.push(new Array(this._bucketSize));\n        }\n        for (var i = 0; i < arr.length; ++i)\n            this.pushBack(arr[i]);\n    };\n    Deque.prototype.forEach = function (callback) {\n        for (var i = 0; i < this._length; ++i) {\n            callback(this.getElementByPos(i), i, this);\n        }\n    };\n    Deque.prototype[Symbol.iterator] = function () {\n        return function () {\n            var i;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        i = 0;\n                        _a.label = 1;\n                    case 1:\n                        if (!(i < this._length)) return [3 /*break*/, 4];\n                        return [4 /*yield*/, this.getElementByPos(i)];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        ++i;\n                        return [3 /*break*/, 1];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }.bind(this)();\n    };\n    return Deque;\n}(SequentialContainer));\nexport default Deque;\n","import SequentialContainer from './Base';\nimport { IteratorType, initContainer } from '@/container/ContainerBase';\nimport { RandomIterator } from '@/container/SequentialContainer/Base/RandomIterator';\nimport $checkWithinAccessParams from '@/utils/checkParams.macro';\nimport $getContainerSize from '@/utils/getContainerSize.macro';\n\nclass DequeIterator<T> extends RandomIterator<T> {\n  readonly container: Deque<T>;\n  constructor(node: number, container: Deque<T>, iteratorType?: IteratorType) {\n    super(node, iteratorType);\n    this.container = container;\n  }\n  copy() {\n    return new DequeIterator<T>(this._node, this.container, this.iteratorType);\n  }\n  // @ts-ignore\n  equals(iter: DequeIterator<T>): boolean;\n}\n\nexport type { DequeIterator };\n\nclass Deque<T> extends SequentialContainer<T> {\n  /**\n   * @internal\n   */\n  private _first = 0;\n  /**\n   * @internal\n   */\n  private _curFirst = 0;\n  /**\n   * @internal\n   */\n  private _last = 0;\n  /**\n   * @internal\n   */\n  private _curLast = 0;\n  /**\n   * @internal\n   */\n  private _bucketNum = 0;\n  /**\n   * @internal\n   */\n  private readonly _bucketSize: number;\n  /**\n   * @internal\n   */\n  private _map: T[][] = [];\n  constructor(container: initContainer<T> = [], _bucketSize = (1 << 12)) {\n    super();\n    const _length = $getContainerSize!(container);\n    this._bucketSize = _bucketSize;\n    this._bucketNum = Math.max(Math.ceil(_length / this._bucketSize), 1);\n    for (let i = 0; i < this._bucketNum; ++i) {\n      this._map.push(new Array(this._bucketSize));\n    }\n    const needBucketNum = Math.ceil(_length / this._bucketSize);\n    this._first = this._last = (this._bucketNum >> 1) - (needBucketNum >> 1);\n    this._curFirst = this._curLast = (this._bucketSize - _length % this._bucketSize) >> 1;\n    const self = this;\n    container.forEach(function (element) {\n      self.pushBack(element);\n    });\n  }\n  /**\n   * @description Growth the Deque.\n   * @internal\n   */\n  private _reAllocate() {\n    const newMap = [];\n    const addBucketNum = Math.max(this._bucketNum >> 1, 1);\n    for (let i = 0; i < addBucketNum; ++i) {\n      newMap[i] = new Array(this._bucketSize);\n    }\n    for (let i = this._first; i < this._bucketNum; ++i) {\n      newMap[newMap.length] = this._map[i];\n    }\n    for (let i = 0; i < this._last; ++i) {\n      newMap[newMap.length] = this._map[i];\n    }\n    newMap[newMap.length] = [...this._map[this._last]];\n    this._first = addBucketNum;\n    this._last = newMap.length - 1;\n    for (let i = 0; i < addBucketNum; ++i) {\n      newMap[newMap.length] = new Array(this._bucketSize);\n    }\n    this._map = newMap;\n    this._bucketNum = newMap.length;\n  }\n  /**\n   * @description Get the bucket position of the element and the pointer position by index.\n   * @param pos - The element's index.\n   * @internal\n   */\n  private _getElementIndex(pos: number) {\n    const offset = this._curFirst + pos + 1;\n    const offsetRemainder = offset % this._bucketSize;\n    let curNodePointerIndex = offsetRemainder - 1;\n    let curNodeBucketIndex = this._first + (offset - offsetRemainder) / this._bucketSize;\n    if (offsetRemainder === 0) curNodeBucketIndex -= 1;\n    curNodeBucketIndex %= this._bucketNum;\n    if (curNodePointerIndex < 0) curNodePointerIndex += this._bucketSize;\n    return { curNodeBucketIndex, curNodePointerIndex };\n  }\n  clear() {\n    this._map = [new Array(this._bucketSize)];\n    this._bucketNum = 1;\n    this._first = this._last = this._length = 0;\n    this._curFirst = this._curLast = this._bucketSize >> 1;\n  }\n  begin() {\n    return new DequeIterator<T>(0, this);\n  }\n  end() {\n    return new DequeIterator<T>(this._length, this);\n  }\n  rBegin() {\n    return new DequeIterator<T>(this._length - 1, this, IteratorType.REVERSE);\n  }\n  rEnd() {\n    return new DequeIterator<T>(-1, this, IteratorType.REVERSE);\n  }\n  front(): T | undefined {\n    if (this._length === 0) return;\n    return this._map[this._first][this._curFirst];\n  }\n  back(): T | undefined {\n    if (this._length === 0) return;\n    return this._map[this._last][this._curLast];\n  }\n  pushBack(element: T) {\n    if (this._length) {\n      if (this._curLast < this._bucketSize - 1) {\n        this._curLast += 1;\n      } else if (this._last < this._bucketNum - 1) {\n        this._last += 1;\n        this._curLast = 0;\n      } else {\n        this._last = 0;\n        this._curLast = 0;\n      }\n      if (\n        this._last === this._first &&\n        this._curLast === this._curFirst\n      ) this._reAllocate();\n    }\n    this._length += 1;\n    this._map[this._last][this._curLast] = element;\n    return this._length;\n  }\n  popBack() {\n    if (this._length === 0) return;\n    const value = this._map[this._last][this._curLast];\n    if (this._length !== 1) {\n      if (this._curLast > 0) {\n        this._curLast -= 1;\n      } else if (this._last > 0) {\n        this._last -= 1;\n        this._curLast = this._bucketSize - 1;\n      } else {\n        this._last = this._bucketNum - 1;\n        this._curLast = this._bucketSize - 1;\n      }\n    }\n    this._length -= 1;\n    return value;\n  }\n  /**\n   * @description Push the element to the front.\n   * @param element - The element you want to push.\n   * @returns The size of queue after pushing.\n   */\n  pushFront(element: T) {\n    if (this._length) {\n      if (this._curFirst > 0) {\n        this._curFirst -= 1;\n      } else if (this._first > 0) {\n        this._first -= 1;\n        this._curFirst = this._bucketSize - 1;\n      } else {\n        this._first = this._bucketNum - 1;\n        this._curFirst = this._bucketSize - 1;\n      }\n      if (\n        this._first === this._last &&\n        this._curFirst === this._curLast\n      ) this._reAllocate();\n    }\n    this._length += 1;\n    this._map[this._first][this._curFirst] = element;\n    return this._length;\n  }\n  /**\n   * @description Remove the _first element.\n   * @returns The element you popped.\n   */\n  popFront() {\n    if (this._length === 0) return;\n    const value = this._map[this._first][this._curFirst];\n    if (this._length !== 1) {\n      if (this._curFirst < this._bucketSize - 1) {\n        this._curFirst += 1;\n      } else if (this._first < this._bucketNum - 1) {\n        this._first += 1;\n        this._curFirst = 0;\n      } else {\n        this._first = 0;\n        this._curFirst = 0;\n      }\n    }\n    this._length -= 1;\n    return value;\n  }\n  getElementByPos(pos: number): T {\n    $checkWithinAccessParams!(pos, 0, this._length - 1);\n    const {\n      curNodeBucketIndex,\n      curNodePointerIndex\n    } = this._getElementIndex(pos);\n    return this._map[curNodeBucketIndex][curNodePointerIndex]!;\n  }\n  setElementByPos(pos: number, element: T) {\n    $checkWithinAccessParams!(pos, 0, this._length - 1);\n    const {\n      curNodeBucketIndex,\n      curNodePointerIndex\n    } = this._getElementIndex(pos);\n    this._map[curNodeBucketIndex][curNodePointerIndex] = element;\n  }\n  insert(pos: number, element: T, num = 1) {\n    $checkWithinAccessParams!(pos, 0, this._length);\n    if (pos === 0) {\n      while (num--) this.pushFront(element);\n    } else if (pos === this._length) {\n      while (num--) this.pushBack(element);\n    } else {\n      const arr: T[] = [];\n      for (let i = pos; i < this._length; ++i) {\n        arr.push(this.getElementByPos(i));\n      }\n      this.cut(pos - 1);\n      for (let i = 0; i < num; ++i) this.pushBack(element);\n      for (let i = 0; i < arr.length; ++i) this.pushBack(arr[i]);\n    }\n    return this._length;\n  }\n  /**\n   * @description Remove all elements after the specified position (excluding the specified position).\n   * @param pos - The previous position of the first removed element.\n   * @returns The size of the container after cutting.\n   * @example\n   * deque.cut(1); // Then deque's size will be 2. deque -> [0, 1]\n   */\n  cut(pos: number) {\n    if (pos < 0) {\n      this.clear();\n      return 0;\n    }\n    const {\n      curNodeBucketIndex,\n      curNodePointerIndex\n    } = this._getElementIndex(pos);\n    this._last = curNodeBucketIndex;\n    this._curLast = curNodePointerIndex;\n    this._length = pos + 1;\n    return this._length;\n  }\n  eraseElementByPos(pos: number) {\n    $checkWithinAccessParams!(pos, 0, this._length - 1);\n    if (pos === 0) this.popFront();\n    else if (pos === this._length - 1) this.popBack();\n    else {\n      const arr = [];\n      for (let i = pos + 1; i < this._length; ++i) {\n        arr.push(this.getElementByPos(i));\n      }\n      this.cut(pos);\n      this.popBack();\n      const self = this;\n      arr.forEach(function (el) {\n        self.pushBack(el);\n      });\n    }\n    return this._length;\n  }\n  eraseElementByValue(value: T) {\n    if (this._length === 0) return 0;\n    const arr: T[] = [];\n    for (let i = 0; i < this._length; ++i) {\n      const element = this.getElementByPos(i);\n      if (element !== value) arr.push(element);\n    }\n    const _length = arr.length;\n    for (let i = 0; i < _length; ++i) this.setElementByPos(i, arr[i]);\n    return this.cut(_length - 1);\n  }\n  eraseElementByIterator(iter: DequeIterator<T>) {\n    const _node = iter._node;\n    this.eraseElementByPos(_node);\n    iter = iter.next();\n    return iter;\n  }\n  find(element: T) {\n    for (let i = 0; i < this._length; ++i) {\n      if (this.getElementByPos(i) === element) {\n        return new DequeIterator<T>(i, this);\n      }\n    }\n    return this.end();\n  }\n  reverse() {\n    let l = 0; let r = this._length - 1;\n    while (l < r) {\n      const tmp = this.getElementByPos(l);\n      this.setElementByPos(l, this.getElementByPos(r));\n      this.setElementByPos(r, tmp);\n      l += 1;\n      r -= 1;\n    }\n  }\n  unique() {\n    if (this._length <= 1) {\n      return this._length;\n    }\n    let index = 1;\n    let pre = this.getElementByPos(0);\n    for (let i = 1; i < this._length; ++i) {\n      const cur = this.getElementByPos(i);\n      if (cur !== pre) {\n        pre = cur;\n        this.setElementByPos(index++, cur);\n      }\n    }\n    while (this._length > index) this.popBack();\n    return this._length;\n  }\n  sort(cmp?: (x: T, y: T) => number) {\n    const arr: T[] = [];\n    for (let i = 0; i < this._length; ++i) {\n      arr.push(this.getElementByPos(i));\n    }\n    arr.sort(cmp);\n    for (let i = 0; i < this._length; ++i) this.setElementByPos(i, arr[i]);\n  }\n  /**\n   * @description Remove as much useless space as possible.\n   */\n  shrinkToFit() {\n    if (this._length === 0) return;\n    const arr: T[] = [];\n    this.forEach(function (el) {\n      arr.push(el);\n    });\n    this._bucketNum = Math.max(Math.ceil(this._length / this._bucketSize), 1);\n    this._length = this._first = this._last = this._curFirst = this._curLast = 0;\n    this._map = [];\n    for (let i = 0; i < this._bucketNum; ++i) {\n      this._map.push(new Array(this._bucketSize));\n    }\n    for (let i = 0; i < arr.length; ++i) this.pushBack(arr[i]);\n  }\n  forEach(callback: (element: T, index: number, deque: Deque<T>) => void) {\n    for (let i = 0; i < this._length; ++i) {\n      callback(this.getElementByPos(i), i, this);\n    }\n  }\n  [Symbol.iterator]() {\n    return function * (this: Deque<T>) {\n      for (let i = 0; i < this._length; ++i) {\n        yield this.getElementByPos(i);\n      }\n    }.bind(this)();\n  }\n}\n\nexport default Deque;\n"],"mappings":"AAAA,IAAIA,SAAA,GAAa,QAAQ,KAAKC,CAAA,IAAe;EACzC,IAAIC,aAAA,GAAgB,SAAAA,CAAUD,CAAA,EAAGE,CAAA;IAC7BD,aAAA,GAAgBE,MAAA,CAAOC,cAAA,IAClB;MAAEC,SAAA,EAAW;iBAAgBC,KAAA,IAAS,UAAUN,CAAA,EAAGE,CAAA;MAAKF,CAAA,CAAEK,SAAA,GAAYH,CAAA;IAAG,KAC1E,UAAUF,CAAA,EAAGE,CAAA;MAAK,KAAK,IAAIK,CAAA,IAAKL,CAAA,EAAG,IAAIC,MAAA,CAAOK,SAAA,CAAUC,cAAA,CAAeC,IAAA,CAAKR,CAAA,EAAGK,CAAA,GAAIP,CAAA,CAAEO,CAAA,IAAKL,CAAA,CAAEK,CAAA;IAAI;IACpG,OAAON,aAAA,CAAcD,CAAA,EAAGE,CAAA;EAC5B;EACA,OAAO,UAAUF,CAAA,EAAGE,CAAA;IAChB,WAAWA,CAAA,KAAM,cAAcA,CAAA,KAAM,MACjC,MAAM,IAAIS,SAAA,CAAU,yBAAyBC,MAAA,CAAOV,CAAA,IAAK;IAC7DD,aAAA,CAAcD,CAAA,EAAGE,CAAA;IACjB,SAASW,GAAA;MAAO,KAAKC,WAAA,GAAcd,CAAA;IAAG;IACtCA,CAAA,CAAEQ,SAAA,GAAYN,CAAA,KAAM,OAAOC,MAAA,CAAOY,MAAA,CAAOb,CAAA,KAAMW,EAAA,CAAGL,SAAA,GAAYN,CAAA,CAAEM,SAAA,EAAW,IAAIK,EAAA;EACnF;AACJ,CAd6C;AAe7C,IAAIG,WAAA,GAAe,QAAQ,KAAKd,CAAA,IAAgB,UAAUF,CAAA,EAASE,CAAA;EAC/D,IAAIK,CAAA,GAAI;MAAEU,KAAA,EAAO;MAAGC,IAAA,EAAM,SAAAA,CAAA;QAAa,IAAIC,CAAA,CAAE,KAAK,GAAG,MAAMA,CAAA,CAAE;QAAI,OAAOA,CAAA,CAAE;MAAI;MAAGC,IAAA,EAAM;MAAIC,GAAA,EAAK;;IAAMC,CAAA;IAAGC,CAAA;IAAGJ,CAAA;IAAGK,CAAA;EAC/G,OAAOA,CAAA,GAAI;IAAEC,IAAA,EAAMC,IAAA,CAAK;IAAIC,KAAA,EAASD,IAAA,CAAK;IAAIE,MAAA,EAAUF,IAAA,CAAK;YAAaG,MAAA,KAAW,eAAeL,CAAA,CAAEK,MAAA,CAAOC,QAAA,IAAY;IAAa,OAAO;EAAM,IAAIN,CAAA;EACvJ,SAASE,KAAK1B,CAAA;IAAK,OAAO,UAAUE,CAAA;MAAK,OAAO6B,IAAA,CAAK,CAAC/B,CAAA,EAAGE,CAAA;IAAK;EAAG;EACjE,SAAS6B,KAAKP,CAAA;IACV,IAAIF,CAAA,EAAG,MAAM,IAAIX,SAAA,CAAU;IAC3B,OAAOJ,CAAA;MACH,IAAIe,CAAA,GAAI,GAAGC,CAAA,KAAMJ,CAAA,GAAIK,CAAA,CAAG,KAAK,IAAID,CAAA,CAAE,YAAYC,CAAA,CAAG,KAAKD,CAAA,CAAE,cAAcJ,CAAA,GAAII,CAAA,CAAE,cAAcJ,CAAA,CAAET,IAAA,CAAKa,CAAA,GAAI,KAAKA,CAAA,CAAEE,IAAA,OAAWN,CAAA,GAAIA,CAAA,CAAET,IAAA,CAAKa,CAAA,EAAGC,CAAA,CAAG,KAAKQ,IAAA,EAAM,OAAOb,CAAA;MAC3J,IAAII,CAAA,GAAI,GAAGJ,CAAA,EAAGK,CAAA,GAAK,CAACA,CAAA,CAAG,KAAK,GAAGL,CAAA,CAAEc,KAAA;MACjC,QAAQT,CAAA,CAAG;QACP,KAAK;QAAG,KAAK;UAAGL,CAAA,GAAIK,CAAA;UAAI;QACxB,KAAK;UAAGjB,CAAA,CAAEU,KAAA;UAAS,OAAO;YAAEgB,KAAA,EAAOT,CAAA,CAAG;YAAIQ,IAAA,EAAM;;QAChD,KAAK;UAAGzB,CAAA,CAAEU,KAAA;UAASM,CAAA,GAAIC,CAAA,CAAG;UAAIA,CAAA,GAAK,CAAC;UAAI;QACxC,KAAK;UAAGA,CAAA,GAAKjB,CAAA,CAAEc,GAAA,CAAIa,GAAA;UAAO3B,CAAA,CAAEa,IAAA,CAAKc,GAAA;UAAO;QACxC;UACI,MAAMf,CAAA,GAAIZ,CAAA,CAAEa,IAAA,EAAMD,CAAA,GAAIA,CAAA,CAAEgB,MAAA,GAAS,KAAKhB,CAAA,CAAEA,CAAA,CAAEgB,MAAA,GAAS,QAAQX,CAAA,CAAG,OAAO,KAAKA,CAAA,CAAG,OAAO,IAAI;YAAEjB,CAAA,GAAI;YAAG;UAAU;UAC3G,IAAIiB,CAAA,CAAG,OAAO,OAAOL,CAAA,IAAMK,CAAA,CAAG,KAAKL,CAAA,CAAE,MAAMK,CAAA,CAAG,KAAKL,CAAA,CAAE,KAAM;YAAEZ,CAAA,CAAEU,KAAA,GAAQO,CAAA,CAAG;YAAI;UAAO;UACrF,IAAIA,CAAA,CAAG,OAAO,KAAKjB,CAAA,CAAEU,KAAA,GAAQE,CAAA,CAAE,IAAI;YAAEZ,CAAA,CAAEU,KAAA,GAAQE,CAAA,CAAE;YAAIA,CAAA,GAAIK,CAAA;YAAI;UAAO;UACpE,IAAIL,CAAA,IAAKZ,CAAA,CAAEU,KAAA,GAAQE,CAAA,CAAE,IAAI;YAAEZ,CAAA,CAAEU,KAAA,GAAQE,CAAA,CAAE;YAAIZ,CAAA,CAAEc,GAAA,CAAIe,IAAA,CAAKZ,CAAA;YAAK;UAAO;UAClE,IAAIL,CAAA,CAAE,IAAIZ,CAAA,CAAEc,GAAA,CAAIa,GAAA;UAChB3B,CAAA,CAAEa,IAAA,CAAKc,GAAA;UAAO;;MAEtBV,CAAA,GAAKtB,CAAA,CAAKQ,IAAA,CAAKV,CAAA,EAASO,CAAA;MAC1B,OAAOP,CAAA;MAAKwB,CAAA,GAAK,CAAC,GAAGxB,CAAA;MAAIuB,CAAA,GAAI;IAAG,UAAC;MAAWD,CAAA,GAAIH,CAAA,GAAI;IAAG;IACzD,IAAIK,CAAA,CAAG,KAAK,GAAG,MAAMA,CAAA,CAAG;IAAI,OAAO;MAAES,KAAA,EAAOT,CAAA,CAAG,KAAKA,CAAA,CAAG,UAAU;MAAGQ,IAAA,EAAM;;EAC9E;AACJ;AACA,IAAIK,MAAA,GAAU,QAAQ,KAAKC,CAAA,IAAW,UAAUtC,CAAA,EAAGE,CAAA;EAC/C,IAAIK,CAAA,UAAWsB,MAAA,KAAW,cAAc7B,CAAA,CAAE6B,MAAA,CAAOC,QAAA;EACjD,KAAKvB,CAAA,EAAG,OAAOP,CAAA;EACf,IAAIsB,CAAA,GAAIf,CAAA,CAAEG,IAAA,CAAKV,CAAA;IAAIuB,CAAA;IAAGJ,CAAA,GAAK;IAAIK,CAAA;EAC/B;IACI,QAAQtB,CAAA,UAAW,KAAKA,CAAA,KAAM,QAAQqB,CAAA,GAAID,CAAA,CAAEG,IAAA,IAAQO,IAAA,EAAMb,CAAA,CAAGiB,IAAA,CAAKb,CAAA,CAAEU,KAAA;EAQxE,EANA,OAAOjC,CAAA;IAASwB,CAAA,GAAI;MAAEe,KAAA,EAAOvC;;EAAS,UAAC;IAEnC;MACI,IAAIuB,CAAA,KAAMA,CAAA,CAAES,IAAA,KAASzB,CAAA,GAAIe,CAAA,CAAE,YAAYf,CAAA,CAAEG,IAAA,CAAKY,CAAA;IAElB,UAD/B;MACS,IAAIE,CAAA,EAAG,MAAMA,CAAA,CAAEe,KAAA;IAAO;EACpC;EACA,OAAOpB,CAAA;AACX;AACA,IAAIqB,aAAA,GAAiB,QAAQ,KAAKC,CAAA,IAAkB,UAAUzC,CAAA,EAAIE,CAAA,EAAMK,CAAA;EACpE,IAAIA,CAAA,IAAQmC,SAAA,CAAUP,MAAA,KAAW,GAAG,KAAK,IAAIb,CAAA,GAAI,GAAGC,CAAA,GAAIrB,CAAA,CAAKiC,MAAA,EAAQhB,CAAA,EAAIG,CAAA,GAAIC,CAAA,EAAGD,CAAA,IAAK;IACjF,IAAIH,CAAA,MAAQG,CAAA,IAAKpB,CAAA,GAAO;MACpB,KAAKiB,CAAA,EAAIA,CAAA,GAAKb,KAAA,CAAME,SAAA,CAAUmC,KAAA,CAAMjC,IAAA,CAAKR,CAAA,EAAM,GAAGoB,CAAA;MAClDH,CAAA,CAAGG,CAAA,IAAKpB,CAAA,CAAKoB,CAAA;IACjB;EACJ;EACA,OAAOtB,CAAA,CAAG4C,MAAA,CAAOzB,CAAA,IAAMb,KAAA,CAAME,SAAA,CAAUmC,KAAA,CAAMjC,IAAA,CAAKR,CAAA;AACtD;OClEO2C,mBAAA,MAAyB;SAEvBC,cAAA,QAAgB;AAIzB,IAAAC,aAAA,aAAA/C,CAAA;EAA+BD,SAAA,CAAAgD,aAAA,EAAA/C,CAAA;EAE7B,SAAA+C,cAAY7C,CAAA,EAAcK,CAAA,EAAqBe,CAAA;IAA/C,IAAAC,CAAA,GACEvB,CAAA,CAAAU,IAAA,OAAMR,CAAA,EAAMoB,CAAA,KAAa;IACzBC,CAAA,CAAKyB,SAAA,GAAYzC,CAAA;IDkEb,OAAOgB,CAAA;EACX;ECjEFwB,aAAA,CAAAvC,SAAA,CAAAyC,IAAA;IACE,OAAO,IAAIF,aAAA,CAAiB,KAAKG,CAAA,EAAO,KAAKF,SAAA,EAAW,KAAKG,YAAA;EDmE7D;EC/DJ,OAAAJ,aAAA;AAAA,CAXA,CAA+BD,cAAA;AAe/B,IAAAM,KAAA,aAAApD,CAAA;EAAuBD,SAAA,CAAAqD,KAAA,EAAApD,CAAA;EA6BrB,SAAAoD,MAAYlD,CAAA,EAAkCK,CAAA;IAAlC,IAAAL,CAAA;MAAAA,CAAA;IAAgC;IAAE,IAAAK,CAAA;MAAAA,CAAA,GAAe,KAAK;IAAG;IAArE,IAAAe,CAAA,GACEtB,CAAA,CAAAU,IAAA,UAAO;IA1BDY,CAAA,CAAA+B,CAAA,GAAS;IAIT/B,CAAA,CAAAgC,CAAA,GAAY;IAIZhC,CAAA,CAAAiC,CAAA,GAAQ;IAIRjC,CAAA,CAAAkC,CAAA,GAAW;IAIXlC,CAAA,CAAAmC,CAAA,GAAa;IAQbnC,CAAA,CAAAoC,CAAA,GAAc;IAGpB,IAAMnC,CAAA,GAAO;MD8DL,WC/G6CrB,CAAA,CACvDiC,MAAA,KAAM,UAAc,OAgDiBjC,CAAA,CAhDCiC,MAAA;MDgH5B,WChHgDjC,CAAA,CAEtDyD,IAAA,KAAI,UAAc,OA8CezD,CAAA,CA9CGyD,IAAA;MDgH9B,WC/GHzD,CAAA,CAAWyD,IAAA,KAAI,YAChB,OA4C+BzD,CAAA,CA5CbyD,IAAA;MAAO,MAAQ,IAAIhD,SAAA,CAAU;IDiH/C,CCrES;IACbW,CAAA,CAAKsC,CAAA,GAAcrD,CAAA;IACnBe,CAAA,CAAKmC,CAAA,GAAaI,IAAA,CAAKC,GAAA,CAAID,IAAA,CAAKE,IAAA,CAAKxC,CAAA,GAAUD,CAAA,CAAKsC,CAAA,GAAc;IAClE,KAAK,IAAIzC,CAAA,GAAI,GAAGA,CAAA,GAAIG,CAAA,CAAKmC,CAAA,IAActC,CAAA,EAAG;MACxCG,CAAA,CAAKoC,CAAA,CAAKtB,IAAA,CAAK,IAAI9B,KAAA,CAAMgB,CAAA,CAAKsC,CAAA;IDsE5B;ICpEJ,IAAMpC,CAAA,GAAgBqC,IAAA,CAAKE,IAAA,CAAKxC,CAAA,GAAUD,CAAA,CAAKsC,CAAA;IAC/CtC,CAAA,CAAK+B,CAAA,GAAS/B,CAAA,CAAKiC,CAAA,IAASjC,CAAA,CAAKmC,CAAA,IAAc,MAAMjC,CAAA,IAAiB;IACtEF,CAAA,CAAKgC,CAAA,GAAYhC,CAAA,CAAKkC,CAAA,GAAYlC,CAAA,CAAKsC,CAAA,GAAcrC,CAAA,GAAUD,CAAA,CAAKsC,CAAA,IAAgB;IACpF,IAAMI,CAAA,GAAO1C,CAAA;IACbpB,CAAA,CAAU+D,OAAA,CAAQ,UAAUjE,CAAA;MAC1BgE,CAAA,CAAKE,QAAA,CAASlE,CAAA;IDsEZ;IACA,OAAOsB,CAAA;EACX;ECjEM8B,KAAA,CAAA5C,SAAA,CAAA2D,CAAA,GAAR;IACE,IAAMnE,CAAA,GAAS;IACf,IAAME,CAAA,GAAe2D,IAAA,CAAKC,GAAA,CAAI,KAAKL,CAAA,IAAc,GAAG;IACpD,KAAK,IAAIlD,CAAA,GAAI,GAAGA,CAAA,GAAIL,CAAA,IAAgBK,CAAA,EAAG;MACrCP,CAAA,CAAOO,CAAA,IAAK,IAAID,KAAA,CAAM,KAAKsD,CAAA;IDuEzB;ICrEJ,KAAK,IAAIrD,CAAA,GAAI,KAAK8C,CAAA,EAAQ9C,CAAA,GAAI,KAAKkD,CAAA,IAAclD,CAAA,EAAG;MAClDP,CAAA,CAAOA,CAAA,CAAOmC,MAAA,IAAU,KAAKuB,CAAA,CAAKnD,CAAA;IDuEhC;ICrEJ,KAAK,IAAIA,CAAA,GAAI,GAAGA,CAAA,GAAI,KAAKgD,CAAA,IAAShD,CAAA,EAAG;MACnCP,CAAA,CAAOA,CAAA,CAAOmC,MAAA,IAAU,KAAKuB,CAAA,CAAKnD,CAAA;IDuEhC;ICrEJP,CAAA,CAAOA,CAAA,CAAOmC,MAAA,IAAOK,aAAA,KAAAH,MAAA,CAAO,KAAKqB,CAAA,CAAK,KAAKH,CAAA,IAAM;IACjD,KAAKF,CAAA,GAASnD,CAAA;IACd,KAAKqD,CAAA,GAAQvD,CAAA,CAAOmC,MAAA,GAAS;IAC7B,KAAK,IAAI5B,CAAA,GAAI,GAAGA,CAAA,GAAIL,CAAA,IAAgBK,CAAA,EAAG;MACrCP,CAAA,CAAOA,CAAA,CAAOmC,MAAA,IAAU,IAAI7B,KAAA,CAAM,KAAKsD,CAAA;IDuErC;ICrEJ,KAAKF,CAAA,GAAO1D,CAAA;IACZ,KAAKyD,CAAA,GAAazD,CAAA,CAAOmC,MAAA;EDuEzB;EChEMiB,KAAA,CAAA5C,SAAA,CAAA4D,CAAA,GAAR,UAAyBpE,CAAA;IACvB,IAAME,CAAA,GAAS,KAAKoD,CAAA,GAAYtD,CAAA,GAAM;IACtC,IAAMO,CAAA,GAAkBL,CAAA,GAAS,KAAK0D,CAAA;IACtC,IAAItC,CAAA,GAAsBf,CAAA,GAAkB;IAC5C,IAAIgB,CAAA,GAAqB,KAAK8B,CAAA,IAAUnD,CAAA,GAASK,CAAA,IAAmB,KAAKqD,CAAA;IACzE,IAAIrD,CAAA,KAAoB,GAAGgB,CAAA,IAAsB;IACjDA,CAAA,IAAsB,KAAKkC,CAAA;IAC3B,IAAInC,CAAA,GAAsB,GAAGA,CAAA,IAAuB,KAAKsC,CAAA;IACzD,OAAO;MAAES,kBAAA,EAAkB9C,CAAA;MAAE+C,mBAAA,EAAmBhD;;EDyEhD;ECvEF8B,KAAA,CAAA5C,SAAA,CAAA+D,KAAA;IACE,KAAKb,CAAA,GAAO,CAAC,IAAIpD,KAAA,CAAM,KAAKsD,CAAA;IAC5B,KAAKH,CAAA,GAAa;IAClB,KAAKJ,CAAA,GAAS,KAAKE,CAAA,GAAQ,KAAKiB,CAAA,GAAU;IAC1C,KAAKlB,CAAA,GAAY,KAAKE,CAAA,GAAW,KAAKI,CAAA,IAAe;EDyErD;ECvEFR,KAAA,CAAA5C,SAAA,CAAAiE,KAAA;IACE,OAAO,IAAI1B,aAAA,CAAiB,GAAG;EDyE/B;ECvEFK,KAAA,CAAA5C,SAAA,CAAAkE,GAAA;IACE,OAAO,IAAI3B,aAAA,CAAiB,KAAKyB,CAAA,EAAS;EDyE1C;ECvEFpB,KAAA,CAAA5C,SAAA,CAAAmE,MAAA;IACE,OAAO,IAAI5B,aAAA,CAAiB,KAAKyB,CAAA,GAAU,GAAG,MAAI;EDyElD;ECvEFpB,KAAA,CAAA5C,SAAA,CAAAoE,IAAA;IACE,OAAO,IAAI7B,aAAA,EAAkB,GAAG,MAAI;EDyEpC;ECvEFK,KAAA,CAAA5C,SAAA,CAAAqE,KAAA;IACE,IAAI,KAAKL,CAAA,KAAY,GAAG;IACxB,OAAO,KAAKd,CAAA,CAAK,KAAKL,CAAA,EAAQ,KAAKC,CAAA;ED0EnC;ECxEFF,KAAA,CAAA5C,SAAA,CAAAsE,IAAA;IACE,IAAI,KAAKN,CAAA,KAAY,GAAG;IACxB,OAAO,KAAKd,CAAA,CAAK,KAAKH,CAAA,EAAO,KAAKC,CAAA;ED2ElC;ECzEFJ,KAAA,CAAA5C,SAAA,CAAA0D,QAAA,aAASlE,CAAA;IACP,IAAI,KAAKwE,CAAA,EAAS;MAChB,IAAI,KAAKhB,CAAA,GAAW,KAAKI,CAAA,GAAc,GAAG;QACxC,KAAKJ,CAAA,IAAY;MD2Eb,OC1EC,IAAI,KAAKD,CAAA,GAAQ,KAAKE,CAAA,GAAa,GAAG;QAC3C,KAAKF,CAAA,IAAS;QACd,KAAKC,CAAA,GAAW;MD4EZ,OC3EC;QACL,KAAKD,CAAA,GAAQ;QACb,KAAKC,CAAA,GAAW;MD6EZ;MC3EN,IACE,KAAKD,CAAA,KAAU,KAAKF,CAAA,IACpB,KAAKG,CAAA,KAAa,KAAKF,CAAA,EACvB,KAAKa,CAAA;ID4EL;IC1EJ,KAAKK,CAAA,IAAW;IAChB,KAAKd,CAAA,CAAK,KAAKH,CAAA,EAAO,KAAKC,CAAA,IAAYxD,CAAA;IACvC,OAAO,KAAKwE,CAAA;ED4EZ;EC1EFpB,KAAA,CAAA5C,SAAA,CAAAuE,OAAA;IACE,IAAI,KAAKP,CAAA,KAAY,GAAG;IACxB,IAAMxE,CAAA,GAAQ,KAAK0D,CAAA,CAAK,KAAKH,CAAA,EAAO,KAAKC,CAAA;IACzC,IAAI,KAAKgB,CAAA,KAAY,GAAG;MACtB,IAAI,KAAKhB,CAAA,GAAW,GAAG;QACrB,KAAKA,CAAA,IAAY;MD6Eb,OC5EC,IAAI,KAAKD,CAAA,GAAQ,GAAG;QACzB,KAAKA,CAAA,IAAS;QACd,KAAKC,CAAA,GAAW,KAAKI,CAAA,GAAc;MD8E/B,OC7EC;QACL,KAAKL,CAAA,GAAQ,KAAKE,CAAA,GAAa;QAC/B,KAAKD,CAAA,GAAW,KAAKI,CAAA,GAAc;MD+E/B;IACJ;IC7EJ,KAAKY,CAAA,IAAW;IAChB,OAAOxE,CAAA;ED+EP;ECxEFoD,KAAA,CAAA5C,SAAA,CAAAwE,SAAA,aAAUhF,CAAA;IACR,IAAI,KAAKwE,CAAA,EAAS;MAChB,IAAI,KAAKlB,CAAA,GAAY,GAAG;QACtB,KAAKA,CAAA,IAAa;MD+Ed,OC9EC,IAAI,KAAKD,CAAA,GAAS,GAAG;QAC1B,KAAKA,CAAA,IAAU;QACf,KAAKC,CAAA,GAAY,KAAKM,CAAA,GAAc;MDgFhC,OC/EC;QACL,KAAKP,CAAA,GAAS,KAAKI,CAAA,GAAa;QAChC,KAAKH,CAAA,GAAY,KAAKM,CAAA,GAAc;MDiFhC;MC/EN,IACE,KAAKP,CAAA,KAAW,KAAKE,CAAA,IACrB,KAAKD,CAAA,KAAc,KAAKE,CAAA,EACxB,KAAKW,CAAA;IDgFL;IC9EJ,KAAKK,CAAA,IAAW;IAChB,KAAKd,CAAA,CAAK,KAAKL,CAAA,EAAQ,KAAKC,CAAA,IAAatD,CAAA;IACzC,OAAO,KAAKwE,CAAA;EDgFZ;EC1EFpB,KAAA,CAAA5C,SAAA,CAAAyE,QAAA;IACE,IAAI,KAAKT,CAAA,KAAY,GAAG;IACxB,IAAMxE,CAAA,GAAQ,KAAK0D,CAAA,CAAK,KAAKL,CAAA,EAAQ,KAAKC,CAAA;IAC1C,IAAI,KAAKkB,CAAA,KAAY,GAAG;MACtB,IAAI,KAAKlB,CAAA,GAAY,KAAKM,CAAA,GAAc,GAAG;QACzC,KAAKN,CAAA,IAAa;MDiFd,OChFC,IAAI,KAAKD,CAAA,GAAS,KAAKI,CAAA,GAAa,GAAG;QAC5C,KAAKJ,CAAA,IAAU;QACf,KAAKC,CAAA,GAAY;MDkFb,OCjFC;QACL,KAAKD,CAAA,GAAS;QACd,KAAKC,CAAA,GAAY;MDmFb;IACJ;ICjFJ,KAAKkB,CAAA,IAAW;IAChB,OAAOxE,CAAA;EDmFP;ECjFFoD,KAAA,CAAA5C,SAAA,CAAA0E,eAAA,aAAgBlF,CAAA;IDmFV,IClFsBA,CAAA,GAAG,KAAHA,CAAA,GAAQ,KAAKwE,CAAA,GAAO,GAlNxB;MAAE,MAAU,IAAIW,UAAA;IDsSlC;ICnFE,IAAAjF,CAAA,GAGF,KAAKkE,CAAA,CAAiBpE,CAAA;MAFxBO,CAAA,GAAkBL,CAAA,CAAAmE,kBAAA;MAClB/C,CAAA,GAAmBpB,CAAA,CAAAoE,mBAAA;IAErB,OAAO,KAAKZ,CAAA,CAAKnD,CAAA,EAAoBe,CAAA;EDkFrC;EChFF8B,KAAA,CAAA5C,SAAA,CAAA4E,eAAA,aAAgBpF,CAAA,EAAaE,CAAA;IDkFvB,ICjFsBF,CAAA,GAAG,KAAHA,CAAA,GAAQ,KAAKwE,CAAA,GAAO,GA1NxB;MAAE,MAAU,IAAIW,UAAA;ID6SlC;IClFE,IAAA5E,CAAA,GAGF,KAAK6D,CAAA,CAAiBpE,CAAA;MAFxBsB,CAAA,GAAkBf,CAAA,CAAA8D,kBAAA;MAClB9C,CAAA,GAAmBhB,CAAA,CAAA+D,mBAAA;IAErB,KAAKZ,CAAA,CAAKpC,CAAA,EAAoBC,CAAA,IAAuBrB,CAAA;EDiFrD;EC/EFkD,KAAA,CAAA5C,SAAA,CAAA6E,MAAA,aAAOrF,CAAA,EAAaE,CAAA,EAAYK,CAAA;IAAA,IAAAA,CAAA;MAAAA,CAAA;IAAO;IDkFjC,ICjFsBP,CAAA,GAAG,KAAHA,CAAA,GAAQ,KAAKwE,CAAA,EAlOjB;MAAE,MAAU,IAAIW,UAAA;IDqTlC;IClFJ,IAAInF,CAAA,KAAQ,GAAG;MACb,OAAOO,CAAA,IAAO,KAAKyE,SAAA,CAAU9E,CAAA;IDqF3B,OCpFG,IAAIF,CAAA,KAAQ,KAAKwE,CAAA,EAAS;MAC/B,OAAOjE,CAAA,IAAO,KAAK2D,QAAA,CAAShE,CAAA;IDuF1B,OCtFG;MACL,IAAMoB,CAAA,GAAW;MACjB,KAAK,IAAIC,CAAA,GAAIvB,CAAA,EAAKuB,CAAA,GAAI,KAAKiD,CAAA,IAAWjD,CAAA,EAAG;QACvCD,CAAA,CAAIc,IAAA,CAAK,KAAK8C,eAAA,CAAgB3D,CAAA;MDwF1B;MCtFN,KAAK+D,GAAA,CAAItF,CAAA,GAAM;MACf,KAAK,IAAIuB,CAAA,GAAI,GAAGA,CAAA,GAAIhB,CAAA,IAAOgB,CAAA,EAAG,KAAK2C,QAAA,CAAShE,CAAA;MAC5C,KAAK,IAAIqB,CAAA,GAAI,GAAGA,CAAA,GAAID,CAAA,CAAIa,MAAA,IAAUZ,CAAA,EAAG,KAAK2C,QAAA,CAAS5C,CAAA,CAAIC,CAAA;ID0FrD;ICxFJ,OAAO,KAAKiD,CAAA;ED0FZ;ECjFFpB,KAAA,CAAA5C,SAAA,CAAA8E,GAAA,aAAItF,CAAA;IACF,IAAIA,CAAA,GAAM,GAAG;MACX,KAAKuE,KAAA;MACL,OAAO;ID0FL;ICxFE,IAAArE,CAAA,GAGF,KAAKkE,CAAA,CAAiBpE,CAAA;MAFxBO,CAAA,GAAkBL,CAAA,CAAAmE,kBAAA;MAClB/C,CAAA,GAAmBpB,CAAA,CAAAoE,mBAAA;IAErB,KAAKf,CAAA,GAAQhD,CAAA;IACb,KAAKiD,CAAA,GAAWlC,CAAA;IAChB,KAAKkD,CAAA,GAAUxE,CAAA,GAAM;IACrB,OAAO,KAAKwE,CAAA;EDuFZ;ECrFFpB,KAAA,CAAA5C,SAAA,CAAA+E,iBAAA,aAAkBvF,CAAA;IDuFZ,ICtFsBA,CAAA,GAAG,KAAHA,CAAA,GAAQ,KAAKwE,CAAA,GAAO,GAxQxB;MAAE,MAAU,IAAIW,UAAA;IDgWlC;ICvFJ,IAAInF,CAAA,KAAQ,GAAG,KAAKiF,QAAA,QACf,IAAIjF,CAAA,KAAQ,KAAKwE,CAAA,GAAU,GAAG,KAAKO,OAAA,QACnC;MACH,IAAM7E,CAAA,GAAM;MACZ,KAAK,IAAIK,CAAA,GAAIP,CAAA,GAAM,GAAGO,CAAA,GAAI,KAAKiE,CAAA,IAAWjE,CAAA,EAAG;QAC3CL,CAAA,CAAIkC,IAAA,CAAK,KAAK8C,eAAA,CAAgB3E,CAAA;MD2F1B;MCzFN,KAAK+E,GAAA,CAAItF,CAAA;MACT,KAAK+E,OAAA;MACL,IAAMzD,CAAA,GAAO;MACbpB,CAAA,CAAI+D,OAAA,CAAQ,UAAUjE,CAAA;QACpBsB,CAAA,CAAK4C,QAAA,CAASlE,CAAA;MD2FV;IACJ;ICzFJ,OAAO,KAAKwE,CAAA;ED2FZ;ECzFFpB,KAAA,CAAA5C,SAAA,CAAAgF,mBAAA,aAAoBxF,CAAA;IAClB,IAAI,KAAKwE,CAAA,KAAY,GAAG,OAAO;IAC/B,IAAMtE,CAAA,GAAW;IACjB,KAAK,IAAIK,CAAA,GAAI,GAAGA,CAAA,GAAI,KAAKiE,CAAA,IAAWjE,CAAA,EAAG;MACrC,IAAMe,CAAA,GAAU,KAAK4D,eAAA,CAAgB3E,CAAA;MACrC,IAAIe,CAAA,KAAYtB,CAAA,EAAOE,CAAA,CAAIkC,IAAA,CAAKd,CAAA;ID6F9B;IC3FJ,IAAMC,CAAA,GAAUrB,CAAA,CAAIiC,MAAA;IACpB,KAAK,IAAI5B,CAAA,GAAI,GAAGA,CAAA,GAAIgB,CAAA,IAAWhB,CAAA,EAAG,KAAK6E,eAAA,CAAgB7E,CAAA,EAAGL,CAAA,CAAIK,CAAA;IAC9D,OAAO,KAAK+E,GAAA,CAAI/D,CAAA,GAAU;ED8F1B;EC5FF6B,KAAA,CAAA5C,SAAA,CAAAiF,sBAAA,aAAuBzF,CAAA;IACrB,IAAME,CAAA,GAAQF,CAAA,CAAKkD,CAAA;IACnB,KAAKqC,iBAAA,CAAkBrF,CAAA;IACvBF,CAAA,GAAOA,CAAA,CAAKyB,IAAA;IACZ,OAAOzB,CAAA;ED8FP;EC5FFoD,KAAA,CAAA5C,SAAA,CAAAkF,IAAA,aAAK1F,CAAA;IACH,KAAK,IAAIE,CAAA,GAAI,GAAGA,CAAA,GAAI,KAAKsE,CAAA,IAAWtE,CAAA,EAAG;MACrC,IAAI,KAAKgF,eAAA,CAAgBhF,CAAA,MAAOF,CAAA,EAAS;QACvC,OAAO,IAAI+C,aAAA,CAAiB7C,CAAA,EAAG;MD8F3B;IACJ;IC5FJ,OAAO,KAAKwE,GAAA;ED8FZ;EC5FFtB,KAAA,CAAA5C,SAAA,CAAAmF,OAAA;IACE,IAAI3F,CAAA,GAAI;IAAG,IAAIE,CAAA,GAAI,KAAKsE,CAAA,GAAU;IAClC,OAAOxE,CAAA,GAAIE,CAAA,EAAG;MACZ,IAAMK,CAAA,GAAM,KAAK2E,eAAA,CAAgBlF,CAAA;MACjC,KAAKoF,eAAA,CAAgBpF,CAAA,EAAG,KAAKkF,eAAA,CAAgBhF,CAAA;MAC7C,KAAKkF,eAAA,CAAgBlF,CAAA,EAAGK,CAAA;MACxBP,CAAA,IAAK;MACLE,CAAA,IAAK;ID+FH;EACJ;EC7FFkD,KAAA,CAAA5C,SAAA,CAAAoF,MAAA;IACE,IAAI,KAAKpB,CAAA,IAAW,GAAG;MACrB,OAAO,KAAKA,CAAA;ID+FV;IC7FJ,IAAIxE,CAAA,GAAQ;IACZ,IAAIE,CAAA,GAAM,KAAKgF,eAAA,CAAgB;IAC/B,KAAK,IAAI3E,CAAA,GAAI,GAAGA,CAAA,GAAI,KAAKiE,CAAA,IAAWjE,CAAA,EAAG;MACrC,IAAMe,CAAA,GAAM,KAAK4D,eAAA,CAAgB3E,CAAA;MACjC,IAAIe,CAAA,KAAQpB,CAAA,EAAK;QACfA,CAAA,GAAMoB,CAAA;QACN,KAAK8D,eAAA,CAAgBpF,CAAA,IAASsB,CAAA;MD+F1B;IACJ;IC7FJ,OAAO,KAAKkD,CAAA,GAAUxE,CAAA,EAAO,KAAK+E,OAAA;IAClC,OAAO,KAAKP,CAAA;EDgGZ;EC9FFpB,KAAA,CAAA5C,SAAA,CAAAqF,IAAA,aAAK7F,CAAA;IACH,IAAME,CAAA,GAAW;IACjB,KAAK,IAAIK,CAAA,GAAI,GAAGA,CAAA,GAAI,KAAKiE,CAAA,IAAWjE,CAAA,EAAG;MACrCL,CAAA,CAAIkC,IAAA,CAAK,KAAK8C,eAAA,CAAgB3E,CAAA;IDgG5B;IC9FJL,CAAA,CAAI2F,IAAA,CAAK7F,CAAA;IACT,KAAK,IAAIO,CAAA,GAAI,GAAGA,CAAA,GAAI,KAAKiE,CAAA,IAAWjE,CAAA,EAAG,KAAK6E,eAAA,CAAgB7E,CAAA,EAAGL,CAAA,CAAIK,CAAA;EDiGnE;EC5FF6C,KAAA,CAAA5C,SAAA,CAAAsF,WAAA;IACE,IAAI,KAAKtB,CAAA,KAAY,GAAG;IACxB,IAAMxE,CAAA,GAAW;IACjB,KAAKiE,OAAA,CAAQ,UAAU/D,CAAA;MACrBF,CAAA,CAAIoC,IAAA,CAAKlC,CAAA;IDkGP;IChGJ,KAAKuD,CAAA,GAAaI,IAAA,CAAKC,GAAA,CAAID,IAAA,CAAKE,IAAA,CAAK,KAAKS,CAAA,GAAU,KAAKZ,CAAA,GAAc;IACvE,KAAKY,CAAA,GAAU,KAAKnB,CAAA,GAAS,KAAKE,CAAA,GAAQ,KAAKD,CAAA,GAAY,KAAKE,CAAA,GAAW;IAC3E,KAAKE,CAAA,GAAO;IACZ,KAAK,IAAIxD,CAAA,GAAI,GAAGA,CAAA,GAAI,KAAKuD,CAAA,IAAcvD,CAAA,EAAG;MACxC,KAAKwD,CAAA,CAAKtB,IAAA,CAAK,IAAI9B,KAAA,CAAM,KAAKsD,CAAA;IDkG5B;IChGJ,KAAK,IAAI1D,CAAA,GAAI,GAAGA,CAAA,GAAIF,CAAA,CAAImC,MAAA,IAAUjC,CAAA,EAAG,KAAKgE,QAAA,CAASlE,CAAA,CAAIE,CAAA;EDmGvD;ECjGFkD,KAAA,CAAA5C,SAAA,CAAAyD,OAAA,aAAQjE,CAAA;IACN,KAAK,IAAIE,CAAA,GAAI,GAAGA,CAAA,GAAI,KAAKsE,CAAA,IAAWtE,CAAA,EAAG;MACrCF,CAAA,CAAS,KAAKkF,eAAA,CAAgBhF,CAAA,GAAIA,CAAA,EAAG;IDmGnC;EACJ;ECjGFkD,KAAA,CAAA5C,SAAA,CAACqB,MAAA,CAAOC,QAAA,IAAR;IACE,OAAO;MDmGC,IAAI9B,CAAA;MACJ,OAAOgB,WAAA,CAAY,MAAM,UAAUd,CAAA;QAC/B,QAAQA,CAAA,CAAGe,KAAA;UACP,KAAK;YCrGVjB,CAAA,GAAI;YDuGKE,CAAA,CAAGe,KAAA,GAAQ;UACf,KAAK;YACD,MCzGFjB,CAAA,GAAI,KAAKwE,CAAA,GAAO;YAC9B,WAAM,KAAKU,eAAA,CAAgBlF,CAAA;UD0Gf,KAAK;YC1GjBE,CAAA,CAAAgB,IAAA;YD4GgBhB,CAAA,CAAGe,KAAA,GAAQ;UACf,KAAK;cC9GiBjB,CAAA;YDgHlB,OAAO,CAAC,GAAa;UACzB,KAAK;YAAG,OAAO,CAAC;;MAExB;IACJ,ECjHF+F,IAAA,CAAK,KAJA;EDsHP;EChHJ,OAAA3C,KAAA;AAAA,CAlWA,CAAuBP,mBAAA;eAoWRO,KAAA"},"metadata":{},"sourceType":"module"}